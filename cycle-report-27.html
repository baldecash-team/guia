<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ciclo 27 - BaldeCash</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Roboto', sans-serif; }
        .brand-bg { background-color: #262877; }
        .brand-text { color: #262877; }
        .brand-border { border-color: #262877; }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- Header -->
    <header class="brand-bg text-white py-6 shadow-lg">
        <div class="container mx-auto px-4">
            <div class="flex items-center justify-between">
                <div>
                    <h1 class="text-3xl font-bold">Ciclo 27</h1>
                    <p class="text-blue-200">24 Nov - 30 Nov, 2025</p>
                </div>
                <div class="text-right">
                    <span class="bg-white/20 px-4 py-2 rounded-full text-sm">BaldeCash Dev Team</span>
                </div>
            </div>
        </div>
    </header>

    <main class="container mx-auto px-4 py-8">
        <!-- KPIs -->
        <section class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-8">
            <div class="bg-white rounded-xl shadow p-6 text-center">
                <p class="text-gray-500 text-sm">Issues Inicio</p>
                <p class="text-4xl font-bold brand-text">57</p>
            </div>
            <div class="bg-white rounded-xl shadow p-6 text-center">
                <p class="text-gray-500 text-sm">Issues Agregados</p>
                <p class="text-4xl font-bold text-orange-500">+7</p>
            </div>
            <div class="bg-white rounded-xl shadow p-6 text-center">
                <p class="text-gray-500 text-sm">Completados</p>
                <p class="text-4xl font-bold text-green-500">6</p>
            </div>
            <div class="bg-white rounded-xl shadow p-6 text-center">
                <p class="text-gray-500 text-sm">Ratio Exito</p>
                <p class="text-4xl font-bold text-blue-500">9.4%</p>
            </div>
        </section>

        <!-- Charts Row -->
        <section class="grid md:grid-cols-2 gap-6 mb-8">
            <!-- Progress Chart -->
            <div class="bg-white rounded-xl shadow p-6">
                <h3 class="text-lg font-semibold mb-4 brand-text">Progreso del Ciclo</h3>
                <div id="progressChart"></div>
            </div>

            <!-- Owner Chart -->
            <div class="bg-white rounded-xl shadow p-6">
                <h3 class="text-lg font-semibold mb-4 brand-text">Issues por Solicitante</h3>
                <div id="ownerChart"></div>
            </div>
        </section>

        <!-- Status Chart -->
        <section class="bg-white rounded-xl shadow p-6 mb-8">
            <h3 class="text-lg font-semibold mb-4 brand-text">Distribucion de Issues</h3>
            <div id="statusChart"></div>
        </section>

        <!-- Issues Table -->
        <section class="bg-white rounded-xl shadow overflow-hidden mb-8">
            <div class="brand-bg text-white px-6 py-4">
                <h3 class="text-lg font-semibold">Issues Completados</h3>
            </div>
            <div class="overflow-x-auto">
                <table class="w-full">
                    <thead class="bg-gray-50">
                        <tr>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Issue</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Titulo</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Solicitante</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Estado</th>
                        </tr>
                    </thead>
                    <tbody class="divide-y divide-gray-200">
                        <tr class="hover:bg-gray-50">
                            <td class="px-6 py-4 font-mono text-sm">BAL-660</td>
                            <td class="px-6 py-4">Correcciones frontend pagar cuotas</td>
                            <td class="px-6 py-4 text-gray-600">Lidymar Dellen</td>
                            <td class="px-6 py-4"><span class="bg-green-100 text-green-800 px-2 py-1 rounded text-xs">Done</span></td>
                        </tr>
                        <tr class="hover:bg-gray-50">
                            <td class="px-6 py-4 font-mono text-sm">BAL-659</td>
                            <td class="px-6 py-4">Corregir automatizacion HP en make</td>
                            <td class="px-6 py-4 text-gray-600">Marco Del Rio</td>
                            <td class="px-6 py-4"><span class="bg-green-100 text-green-800 px-2 py-1 rounded text-xs">Done</span></td>
                        </tr>
                        <tr class="hover:bg-gray-50">
                            <td class="px-6 py-4 font-mono text-sm">BAL-638</td>
                            <td class="px-6 py-4">Permitir pagar solicitudes</td>
                            <td class="px-6 py-4 text-gray-600">Yadira Yovera</td>
                            <td class="px-6 py-4"><span class="bg-green-100 text-green-800 px-2 py-1 rounded text-xs">Done</span></td>
                        </tr>
                        <tr class="hover:bg-gray-50">
                            <td class="px-6 py-4 font-mono text-sm">BAL-639</td>
                            <td class="px-6 py-4">Corregir faltas ortograficas</td>
                            <td class="px-6 py-4 text-gray-600">Marco Del Rio</td>
                            <td class="px-6 py-4"><span class="bg-green-100 text-green-800 px-2 py-1 rounded text-xs">Done</span></td>
                        </tr>
                        <tr class="hover:bg-gray-50">
                            <td class="px-6 py-4 font-mono text-sm">BAL-642</td>
                            <td class="px-6 py-4">Nuevo boton campana Voximplant</td>
                            <td class="px-6 py-4 text-gray-600">Yadira Yovera</td>
                            <td class="px-6 py-4"><span class="bg-green-100 text-green-800 px-2 py-1 rounded text-xs">Done</span></td>
                        </tr>
                        <tr class="hover:bg-gray-50">
                            <td class="px-6 py-4 font-mono text-sm">BAL-648</td>
                            <td class="px-6 py-4">Revisar scroll pagar cuotas ZE</td>
                            <td class="px-6 py-4 text-gray-600">Yosmar Cardenas</td>
                            <td class="px-6 py-4"><span class="bg-green-100 text-green-800 px-2 py-1 rounded text-xs">Done</span></td>
                        </tr>
                        <tr class="hover:bg-gray-50 bg-red-50">
                            <td class="px-6 py-4 font-mono text-sm">BAL-646</td>
                            <td class="px-6 py-4">Bug direccion ubigeo</td>
                            <td class="px-6 py-4 text-gray-600">Bug Report</td>
                            <td class="px-6 py-4"><span class="bg-red-100 text-red-800 px-2 py-1 rounded text-xs">Bug Fixed</span></td>
                        </tr>
                        <tr class="hover:bg-gray-50 bg-red-50">
                            <td class="px-6 py-4 font-mono text-sm">BAL-645</td>
                            <td class="px-6 py-4">Bug solicitud 86230</td>
                            <td class="px-6 py-4 text-gray-600">Bug Report</td>
                            <td class="px-6 py-4"><span class="bg-red-100 text-red-800 px-2 py-1 rounded text-xs">Bug Fixed</span></td>
                        </tr>
                        <tr class="hover:bg-gray-50 bg-blue-50">
                            <td class="px-6 py-4 font-mono text-sm">BAL-657</td>
                            <td class="px-6 py-4">storeBulk para prestamos</td>
                            <td class="px-6 py-4 text-gray-600">Vania Hagel</td>
                            <td class="px-6 py-4"><span class="bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs">Feature</span></td>
                        </tr>
                        <tr class="hover:bg-gray-50 bg-purple-50">
                            <td class="px-6 py-4 font-mono text-sm">BAL-656</td>
                            <td class="px-6 py-4">Endpoint QR sandbox BBVA</td>
                            <td class="px-6 py-4 text-gray-600">BBVA</td>
                            <td class="px-6 py-4"><span class="bg-purple-100 text-purple-800 px-2 py-1 rounded text-xs">Integration</span></td>
                        </tr>
                        <tr class="hover:bg-gray-50 bg-purple-50">
                            <td class="px-6 py-4 font-mono text-sm">BAL-655</td>
                            <td class="px-6 py-4">Autenticacion BBVA QR</td>
                            <td class="px-6 py-4 text-gray-600">BBVA</td>
                            <td class="px-6 py-4"><span class="bg-purple-100 text-purple-800 px-2 py-1 rounded text-xs">Integration</span></td>
                        </tr>
                        <tr class="hover:bg-gray-50 bg-yellow-50">
                            <td class="px-6 py-4 font-mono text-sm">BAL-654</td>
                            <td class="px-6 py-4">Cambios landings marketing</td>
                            <td class="px-6 py-4 text-gray-600">Patio Digital</td>
                            <td class="px-6 py-4"><span class="bg-yellow-100 text-yellow-800 px-2 py-1 rounded text-xs">Marketing</span></td>
                        </tr>
                        <tr class="hover:bg-gray-50 bg-yellow-50">
                            <td class="px-6 py-4 font-mono text-sm">BAL-653</td>
                            <td class="px-6 py-4">Cambios UX/UI Pamela</td>
                            <td class="px-6 py-4 text-gray-600">Pamela Marketing</td>
                            <td class="px-6 py-4"><span class="bg-yellow-100 text-yellow-800 px-2 py-1 rounded text-xs">UX/UI</span></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Sentry Section -->
        <section class="bg-white rounded-xl shadow p-6 mb-8">
            <h3 class="text-lg font-semibold mb-4 brand-text">Sentry - Errores del Ciclo</h3>
            <div class="grid md:grid-cols-3 gap-4 mb-6">
                <div class="bg-red-50 rounded-lg p-4 text-center">
                    <p class="text-3xl font-bold text-red-600">50</p>
                    <p class="text-sm text-red-800">Total Errores</p>
                </div>
                <div class="bg-orange-50 rounded-lg p-4 text-center">
                    <p class="text-3xl font-bold text-orange-600">~20</p>
                    <p class="text-sm text-orange-800">OAuth Errors</p>
                </div>
                <div class="bg-yellow-50 rounded-lg p-4 text-center">
                    <p class="text-3xl font-bold text-yellow-600">~15</p>
                    <p class="text-sm text-yellow-800">Navigation Errors</p>
                </div>
            </div>
            <div class="bg-gray-50 rounded-lg p-4">
                <h4 class="font-medium mb-2">Recomendaciones:</h4>
                <ul class="text-sm text-gray-600 space-y-1">
                    <li>• Revisar manejo de credenciales y tokens expirados (OAuthServerException)</li>
                    <li>• Implementar guards en router de Vue (NavigationDuplicated)</li>
                    <li>• Validar rutas y estados de sesion (Redirect Errors)</li>
                </ul>
            </div>
        </section>

        <!-- Claude Code Section -->
        <section class="bg-gradient-to-r from-purple-500 to-indigo-600 rounded-xl shadow p-6 text-white mb-8">
            <div class="flex items-center gap-4 mb-4">
                <div class="bg-white/20 p-3 rounded-full">
                    <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                    </svg>
                </div>
                <div>
                    <h3 class="text-xl font-bold">Commits con Claude Code</h3>
                    <p class="text-purple-200">Asistencia de IA en desarrollo</p>
                </div>
            </div>
            <div class="grid md:grid-cols-2 gap-4">
                <div class="bg-white/10 rounded-lg p-4">
                    <p class="text-3xl font-bold">13+</p>
                    <p class="text-sm text-purple-200">Commits asistidos</p>
                </div>
                <div class="bg-white/10 rounded-lg p-4">
                    <p class="text-3xl font-bold">4</p>
                    <p class="text-sm text-purple-200">Proyectos impactados</p>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="brand-bg text-white py-4 mt-8">
        <div class="container mx-auto px-4 text-center text-sm">
            <p>Generado automaticamente el 1 de Diciembre, 2025</p>
            <p class="text-blue-200">BaldeCash Development Team</p>
        </div>
    </footer>

    <script>
        // Progress Chart
        var progressOptions = {
            series: [{
                name: 'Issues Totales',
                data: [57, 57, 57, 63, 64, 64, 64]
            }, {
                name: 'Completados',
                data: [2, 2, 2, 6, 6, 6, 6]
            }],
            chart: {
                type: 'area',
                height: 300,
                toolbar: { show: false }
            },
            colors: ['#262877', '#10B981'],
            dataLabels: { enabled: false },
            stroke: { curve: 'smooth', width: 2 },
            fill: {
                type: 'gradient',
                gradient: {
                    shadeIntensity: 1,
                    opacityFrom: 0.4,
                    opacityTo: 0.1
                }
            },
            xaxis: {
                categories: ['Lun', 'Mar', 'Mie', 'Jue', 'Vie', 'Sab', 'Dom']
            },
            legend: { position: 'top' }
        };
        new ApexCharts(document.querySelector("#progressChart"), progressOptions).render();

        // Owner Chart
        var ownerOptions = {
            series: [2, 2, 2, 1, 1, 1, 1, 2, 1],
            chart: {
                type: 'donut',
                height: 300
            },
            labels: ['Marco Del Rio', 'Yadira Yovera', 'BBVA', 'Lidymar Dellen', 'Yosmar Cardenas', 'Vania Hagel', 'Patio Digital', 'Bugs', 'Pamela'],
            colors: ['#262877', '#3B82F6', '#8B5CF6', '#10B981', '#F59E0B', '#EF4444', '#6366F1', '#EC4899', '#14B8A6'],
            legend: { position: 'bottom' },
            plotOptions: {
                pie: {
                    donut: {
                        size: '50%',
                        labels: {
                            show: true,
                            total: {
                                show: true,
                                label: 'Total',
                                fontSize: '16px'
                            }
                        }
                    }
                }
            }
        };
        new ApexCharts(document.querySelector("#ownerChart"), ownerOptions).render();

        // Status Chart
        var statusOptions = {
            series: [{
                name: 'Issues',
                data: [6, 2, 2, 2, 1]
            }],
            chart: {
                type: 'bar',
                height: 200,
                toolbar: { show: false }
            },
            colors: ['#262877'],
            plotOptions: {
                bar: {
                    borderRadius: 8,
                    horizontal: true,
                    distributed: true
                }
            },
            colors: ['#10B981', '#EF4444', '#8B5CF6', '#F59E0B', '#3B82F6'],
            dataLabels: { enabled: true },
            xaxis: {
                categories: ['Features', 'Bugs', 'Integraciones', 'Marketing/UX', 'Otros']
            },
            legend: { show: false }
        };
        new ApexCharts(document.querySelector("#statusChart"), statusOptions).render();
    </script>
</body>
</html>
